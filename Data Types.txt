Стойностни и референтни типове

Типовете данни в C# са 2 вида: стойностни и референтни.

Стойностните типове (value types) се съхраняват в стека за изпъл­нение на програ­мата и 
съдържат директно стойността си. Стойностни са примитивните числови типове, символният тип 
и булевият тип: sbyte, byte, short, ushort, int, long, ulong, float, double, decimal, char, bool. 
Те се освобождават при излизане от обхват, т.е. когато блокът с код, в който са дефинирани, завърши 
изпълнението си. Например една променлива, декларирана в метода Main() на програмата се пази в стека
 докато програмата завърши изпълнението на този метод, т.е. докато не завърши.

Референтните типове (reference types) съдържат в стека за изпъл­нение на програмата референция (адрес) 
към динамичната памет (heap), където се съхранява тяхната стойност. Референцията представ­лява указател 
(адрес на клетка от паметта), сочещ реалното местополо­жение на стой­ността в динамичната памет. Пример 
за стойност на адрес в стека за изпълнение е 0x00AD4934. Референцията има тип и може да съдържа като стойност 
само обекти от своя тип, т.е. тя представлява строго типизиран указател. Всички референтни типове могат да 
получават стойност null. Това е специална служебна стойност, която означава, че липсва стойност.

Референтните типове заделят динамична памет при създаването си и се освобождават по някое време 
от системата за почистване на паметта (garbage collector), когато тя установи, че вече не се използват 
от програмата. Не е известно точно в кой момент дадена референтна променлива ще бъде освободена от garbage 
collector, тъй като това зависи от натоварването на паметта и от други фактори. Тъй като заделянето и 
освобождаването на памет е бавна операция, може да се каже, че референтните типове са по-бавни от стойностните.

Тъй като референтните типове данни се заделят и освобождават динамично по време на изпълнение на програмата, 
техният размер може да не е предварително известен. Например в променлива от тип string могат да бъдат записвани
 текстови данни с различна дължина. Реално текстовата стойност на типа string се записва в динамичната памет и 
 може да заема различен обем (брой байтове), а в променливата от тип string се записва адресът неговият адрес.

Референтни типове са всички класове, масивите и интерфейсите, напри­мер типовете: object, string, byte[]. 
С класовете, обектите, символните низове, масивите и интерфейсите ще се запознаем в следващите глави на книгата. 
Засега е достатъчно да знаете, че всички типове, които не са стойностни, са референтни и се разполагат в дина­мичната памет.